\RequirePackage{ifthen,xifthen}
%%% alle Optionen:
% Doppelseitig (mit Rand an der Innenseite)
\newboolean{twosided}
\setboolean{twosided}{false}
% Eigene Dokument-Klasse (alle KOMA möglich; cheatsheet für Spicker [3 Spalten pro Seite, alles kleiner])
\newcommand{\customDocumentClass}{scrreprt}
% Unterscheidung verschiedener Designs: htw, fjs
\newcommand{\customDesign}{htw}

%-- Für Spicker einiges anders:
\ifthenelse{\equal{\customDocumentClass}{cheatsheet}}{
	\documentclass[a4paper,10pt,landscape]{scrartcl}
	\usepackage{geometry}
	\geometry{a4paper, top=2mm, bottom=2mm, headsep=0mm, footskip=0mm, left=2mm, right=2mm}
	
	% Für Spicker \spsection für Section, zur Strukturierung \HRule oder \HDRule Linie einsetzen
	\usepackage{multicol}
	\newcommand{\spsection}[1]{\textbf{#1}}
	\setlist{nolistsep}
	\usepackage{parskip}
	\setlength{\parskip}{0em}
	\newcommand{\HRule}[1][\medskipamount]{\par
	  \vspace*{\dimexpr-\parskip-\baselineskip+#1}
	  \noindent\rule[0.2ex]{\linewidth}{0.2mm}\par
	  \vspace*{\dimexpr-\parskip-.5\baselineskip+#1}}
	\usepackage{dashrule}
	\newcommand{\HDRule}[1][\medskipamount]{\par
	  \vspace*{\dimexpr-\parskip-\baselineskip+#1}
	  \noindent\hdashrule[0.2ex]{\linewidth}{0.2mm}{1mm} \par
	  \vspace*{\dimexpr-\parskip-.5\baselineskip+#1}}
}{	%-- Ende Spicker-Unterscheidung-if
	%-- Unterscheidung Doppelseitig
	\ifthenelse{\boolean{twosided}}{
		\documentclass[a4paper,11pt, footheight=26pt,twoside]{scrreprt}
		\usepackage[head=23pt]{geometry}	% head=23pt umgeht Fehlerwarnung, dafür größeres "top" in geometry
		\geometry{top=30mm, bottom=22mm, headsep=10mm, footskip=12mm, left=20mm, right=20mm}
	}{
		\documentclass[a4paper,11pt, footheight=26pt]{scrreprt}
		\usepackage[head=23pt]{geometry}	% head=23pt umgeht Fehlerwarnung, dafür größeres "top" in geometry
		\geometry{top=30mm, bottom=22mm, headsep=10mm, footskip=12mm, inner=27mm, outer=13mm}
	}
	
	%-- Nummerierung bis Subsubsection für Report
	\ifthenelse{\equal{\customDocumentClass}{report} \OR \equal{\customDocumentClass}{scrreprt}}{
		\setcounter{secnumdepth}{3}	% zählt auch subsubsection
		\setcounter{tocdepth}{3}	% Inhaltsverzeichnis bis in subsubsection
	}{}
	
	\usepackage[perpage]{footmisc}	% Fußnotenzählung Seitenweit, nicht Dokumentenweit
	\usepackage{scrlayer-scrpage}	% Kopf-/Fußzeile

} %-- Ende Spicker-Unterscheidung-else

% Input inkl. Umlaute, Silbentrennung
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
%%% if standard-sprache
\usepackage[english,ngerman]{babel}
\usepackage{csquotes}	% Anführungszeichen
\usepackage{eurosym}

% Style-Aufhübschung
\usepackage{soul, color}	% Kapitälchen, Unterstrichen, Durchgestrichen usw. im Text
%\usepackage{titleref}
\renewcommand*{\thefootnote}{\fnsymbol{footnote}}	% Fußnoten-Symbole anstatt Zahlen
\renewcommand*{\titlepagestyle}{empty} % Keine Seitennummer auf Titelseite

% Mathe usw.
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage[fleqn,intlimits]{amsmath}	% fleqn: align-Umgebung rechtsbündig; intlimits: Integralgrenzen immer ober-/unterhalb
%\usepackage{mathtools} % u.a. schönere underbraces
\usepackage{xcolor}
\usepackage{esint}	% Schönere Integrale, \oiint vorhanden
\everymath=\expandafter{\the\everymath\displaystyle}	% Mathe Inhalte werden weniger verkleinert
\usepackage{wasysym}	% mehr Symbole, bspw \lightning
% Auch arcus-Hyperbolicus-Funktionen
\DeclareMathOperator{\arccot}{arccot}
\DeclareMathOperator{\arccosh}{arccosh}
\DeclareMathOperator{\arcsinh}{arcsinh}
\DeclareMathOperator{\arctanh}{arctanh}
\DeclareMathOperator{\arccoth}{arccoth} 
% Mathe in Anführungszeichen:
\newsavebox{\mathbox}\newsavebox{\mathquote}
\makeatletter
\newcommand{\mq}[1]{% \mathquotes{<stuff>}
  \savebox{\mathquote}{\text{"}}% Save quotes
  \savebox{\mathbox}{$\displaystyle #1$}% Save <stuff>
  \raisebox{\dimexpr\ht\mathbox-\ht\mathquote\relax}{"}#1\raisebox{\dimexpr\ht\mathbox-\ht\mathquote\relax}{''}
}
\makeatother
%\renewcommand{\int}{\int\limits}

% tikz usw.
\usepackage{tikz}
\usepackage{pgfplots}
\pgfplotsset{compat=1.11}	% Umgeht Fehlermeldung
\usetikzlibrary{graphs}
%\usetikzlibrary{through}	% ???
\usetikzlibrary{arrows}
\usetikzlibrary{arrows.meta}	% Pfeile verändern / vergrößern: \draw[-{>[scale=1.5]}] (-3,5) -> (-3,3);
\usetikzlibrary{automata,positioning} % Zeilenumbruch im Node node[align=center] {Text\\nächste Zeile} automata für Graphen
\usetikzlibrary{matrix}
\usetikzlibrary{patterns}	% Schraffierte Füllung
\tikzstyle{reverseclip}=[insert path={	% Inverser Clip \clip
	(current page.north east) --
	(current page.south east) --
	(current page.south west) --
	(current page.north west) --
	(current page.north east)}
% Nutzen: 
%\begin{tikzpicture}[remember picture]
%\begin{scope}
%\begin{pgfinterruptboundingbox}
%\draw [clip] DIE FLÄCHE, IN DER OBJEKT NICHT ERSCHEINEN SOLL [reverseclip];
%\end{pgfinterruptboundingbox}
%\draw DAS OBJEKT;
%\end{scope}
%\end{tikzpicture}
]	% Achtung: dafür muss doppelt kompliert werden!
\usepackage{graphpap}	% Grid für Graphen
\tikzset{every state/.style={inner sep=2pt, minimum size=2em}}

% Tabular
\usepackage{longtable}	% Große Tabellen über mehrere Seiten
\usepackage{multirow}	% Multirow/-column: \multirow{2[Anzahl der Zeilen]}{*[Format]}{Test[Inhalt]} oder \multicolumn{7[Anzahl der Reihen]}{|c|[Format]}{Test2[Inhalt]}
\renewcommand{\arraystretch}{1.3} % Tabellenlinien nicht zu dicht
\usepackage{colortbl}
\arrayrulecolor{gray}	% heller Tabellenlinien
\usepackage{array}	% für folgende 3 Zeilen (für Spalten fester breite mit entsprechender Ausrichtung):
\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}m{\dimexpr#1\columnwidth-2\tabcolsep-1.5\arrayrulewidth}}
\newcolumntype{C}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}m{\dimexpr#1\columnwidth-2\tabcolsep-1.5\arrayrulewidth}}
\newcolumntype{R}[1]{>{\raggedleft\let\newline\\\arraybackslash\hspace{0pt}}m{\dimexpr#1\columnwidth-2\tabcolsep-1.5\arrayrulewidth}}
\usepackage{caption}	% Um auch unbeschriftete Captions mit \caption* zu machen

% Nützliches
\usepackage{verbatim}	% u.a. zum auskommentieren via \begin{comment} \end{comment}
\usepackage{tabto}	% Tabs: /tab zum nächsten Tab oder /tabto{.5 \CurrentLineWidth} zur Stelle in der Linie
\NumTabs{6}	% Anzahl von Tabs pro Zeile zum springen
\usepackage{listings} % Source-Code mit Tabs
\usepackage{lstautogobble} 
\usepackage{enumitem}	% Anpassung der enumerates
\setlist[enumerate,1]{label=\arabic*.)}	% global andere Enum-Items
\newenvironment{anumerate}{\begin{enumerate}[label=\alph*.)]}{\end{enumerate}} % Alphabetische Aufzählung
\renewcommand{\labelitemiii}{$\scriptscriptstyle ^\blacklozenge$} % global andere 3. Item-Aufzählungszeichen
\usepackage{letltxmacro} % neue Definiton von Grundbefehlen
% Nutzen:
%\LetLtxMacro{\oldemph}{\emph}
%\renewcommand{\emph}[1]{\oldemph{#1}}

% Einrichtung von lst
\lstset{
basicstyle=\ttfamily, 
mathescape=true, 
%escapeinside=^^, 
autogobble, 
tabsize=2,
basicstyle=\footnotesize\sffamily\color{black},
frame=single,
rulecolor=\color{lightgray},
numbers=left,
numbersep=5pt,
numberstyle=\tiny\color{gray},
commentstyle=\color{gray},
keywordstyle=\color{green},
stringstyle=\color{orange},
morecomment=[l][\color{magenta}]{\#}
showspaces=false,
showstringspaces=false,
breaklines=true,
literate=%
    {Ö}{{\"O}}1
    {Ä}{{\"A}}1
    {Ü}{{\"U}}1
    {ß}{{\ss}}1
    {ü}{{\"u}}1
    {ä}{{\"a}}1
    {ö}{{\"o}}1
    {~}{{\textasciitilde}}1
}
\usepackage{scrhack} % Fehler umgehen
\def\ContinueLineNumber{\lstset{firstnumber=last}} % vor lstlisting. Zum wechsel zum nicht-kontinuierlichen muss wieder \StartLineAt1 eingegeben werden
\def\StartLineAt#1{\lstset{firstnumber=#1}} % vor lstlisting \StartLineAt30 eingeben, um bei Zeile 30 zu starten
\let\numberLineAt\StartLineAt

% BibTeX
\usepackage[backend=bibtex, bibencoding=ascii,
%style=authortitle, citestyle=authortitle-ibid,
%doi=false,
%isbn=false,
%url=false
]{biblatex}	% BibTeX
\usepackage{makeidx}
%\makeglossary
%\makeindex

% Grafiken
\usepackage{graphicx}
\usepackage{epstopdf}	% eps-Vektorgrafiken einfügen

% pdf-Setup
\usepackage{pdfpages}
\usepackage[bookmarks,%
bookmarksopen=false,% Klappt die Bookmarks in Acrobat aus
colorlinks=true,%
linkcolor=black,%
citecolor=red,%
urlcolor=green,%
]{hyperref}

%-- Unterscheidung des Stils
\ifthenelse{\equal{\customDesign}{htw}}{
	% HTW Corporate Design: Arial (Helvetica)
	\usepackage{helvet}
	\renewcommand{\familydefault}{\sfdefault}
}{}

% Titel, Autor usw. werden vor dem Anfang des Dokuments in einem Rutsch definiert…
\newcommand{\DTitel}[1]{\newcommand{\Dokumententitel}{#1}}
\newcommand{\DUntertitel}[1]{\newcommand{\Dokumentenuntertitel}{#1}}
\newcommand{\DAutor}[1]{\newcommand{\Dokumentenautor}{#1}}
\newcommand{\DNotiz}[1]{\newcommand{\Dokumentennotiz}{#1}}
\newcommand{\DSign}[1]{\newcommand{\Dokumentensignatur}{#1}}
\DSign{\footnotesize{\textcolor{darkgray}{Mitschrift von\\ \Dokumentenautor}}}
\newcommand{\Autorformat}[1]{\textcolor{darkgray}{Mitschrift von #1}}
\newcommand{\workingdir}{../}	% Arbeitsordner (in Abhängigkeit vom Master) Standard: LateX_master Ordner liegt im Eltern-Ordner
% … Deswegen folgendes erst Nach Dokumentenbeginn ausführen:
\AtBeginDocument{
	\hypersetup{
		pdfauthor={\Dokumentenautor},
		pdftitle={HTW Dresden | \Dokumententitel - \Dokumentenuntertitel},
	}
	\automark[section]{section}
	\automark*[subsection]{subsection}
	\pagestyle{scrheadings}
	\ihead{\includegraphics[height=1.7em]{\workingdir .LaTeX_master/HTW-Logo.eps}}
	%\ohead{\truncate{5cm}{\Dokumententitel}}
	\ohead{\Dokumententitel}
	\cfoot{\pagemark}
	\ofoot{\Dokumentensignatur}
	% Titelseite
	\title{\includegraphics[width=0.35\textwidth]{\workingdir .LaTeX_master/HTW-Logo.eps}\\\vspace{0.5em}
	\Huge\textbf{\Dokumententitel} \\\vspace*{0,5cm}
	\Large \Dokumentenuntertitel \\\vspace*{4cm}}
	\author{\Autorformat{\Dokumentenautor} \vspace*{1cm}\\\Dokumentennotiz}
}

% Unterabschnitte
%\newtheorem{example}{Beispiel}%[section]
%\newtheorem{definition}{Definition}[section]
%\newtheorem{discussion}{Diskussion}[section]
%\newtheorem{remark}{Bemerkung}[section]
%\newtheorem{proof}{Beweis}[section]
%\newtheorem{notation}{Schreibweise}[section]